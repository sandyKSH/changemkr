<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>매십이의 하루 - 시각장애인식 개선 체험</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- html2canvas: DOM을 캡처해 이미지로 변환 -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
  <div class="progress-bar" id="progressBar"></div>

  <div class="container">
    <div class="header">
      <h1>🌟 최매십의 하루</h1>
      <a href="#" class="login-btn">로그인</a>
      <p>올바른 도움 방법을 배워보세요</p>
      <div class="score-display">
        <div>현재 점수: <span id="currentScore">0</span>점</div>
        <div>진행도: <span id="progressText">0</span>/<span id="totalSteps">14</span></div>
      </div>
    </div>

    <!-- 시작 화면 -->
    <div class="screen active" id="start">
      <div class="character-img">👨‍🎓</div>
      <div class="story-text">
        안녕! 나는 매십이야. 시각장애가 있는 대학생이지.<br><br>
        오늘은 특별한 체험을 준비했어. 너와 함께 하루를 보내면서,
        <strong>언제 도움이 필요한지</strong>와 <strong>어떻게 도와주는 것이 좋은지</strong>를 배워보자!<br><br>
        각 상황마다 점수가 있고, 올바른 선택을 하면 높은 점수를 받을 수 있어.
      </div>

      <div class="learning-objective">
        <strong>🎯 오늘의 학습 목표</strong><br>
        • 도움이 필요한 상황과 불필요한 상황 구분하기<br>
        • 시각장애인의 주체성을 존중하는 도움 방법 배우기<br>
        • 구체적이고 효과적인 안내 방법 익히기<br>
        • 안내견과 함께 있을 때의 올바른 에티켓 익히기
      </div>

      <button class="btn-primary" onclick="showScreen('situation1_step1')">
        🚀 체험 시작하기
      </button>
    </div>

    <!-- 상황 1-1: 버스 정류장 판단 -->
    <div class="screen" id="situation1_step1">
      <div class="time-badge">⏰ 08:30 AM</div>
      <div class="step-indicator">1단계: 상황 판단</div>
      <div class="story-text">
        <strong>📍 버스 정류장</strong><br><br>
        나는 지금 버스 정류장에 앉아 버스를 기다리는 중이야. 그런데 매십이가 안내견 보리와 함께 다가와 버스 도착 정보 방송을 들으며 가만히 서있어.<br><br>
        여러 대의 버스가 지나가는데, 어떤 버스가 내가 타야 할 버스인지 확인이 어려워 보여.
      </div>

      <div class="learning-objective">
        <strong>💡 학습 포인트:</strong> 도움이 필요한 상황인지 먼저 판단해보세요
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 내가 먼저 나서서 도와줘야하는 걸까?</div>
        <button class="choice-btn" onclick="makeChoice(1, 1, 'need_help')">
          ✅ 응, 도움이 필요해 보여!
        </button>
        <button class="choice-btn" onclick="makeChoice(1, 1, 'no_help')">
          ❌ 아니, 스스로 해결할 수 있을 것 같아!
        </button>
      </div>

      <div class="feedback" id="feedback1_1"></div>
      <button class="continue-btn" id="continue1_1"
              onclick="applyScore(); showScreen('situation1_step2')"
              style="display: none;">
        다음 단계로 →
      </button>
    </div>

    <!-- 상황 1-2: 버스 정류장 도움 방법 -->
    <div class="screen" id="situation1_step2">
      <div class="time-badge">⏰ 08:30 AM</div>
      <div class="step-indicator">2단계: 도움 방법 선택</div>
      <div class="story-text">
        <strong>📍 버스 정류장</strong><br><br>
        맞아, 버스의 경우 동시에 여러대가 올 수도 있고 정확한 버스 도착 정보 확인이 다소 어려워. 때문에 먼저 나서서 도와주면 좋아.<br><br>
        그런데 중요한 건 <strong>어떻게</strong> 도와주느냐야!
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 어떤 식으로 도와주는게 좋을까?</div>
        <button class="choice-btn" onclick="makeChoice(1, 2, 'ask_first')">
          💬 몇 번 버스를 기다리는 중인지 물어보며 버스가 오면 알려준다.
        </button>
        <button class="choice-btn" onclick="makeChoice(1, 2, 'polite_approach')">
          🤝 조심스레 다가가 도움이 필요한지 먼저 물어본다.
        </button>
        <button class="choice-btn" onclick="makeChoice(1, 2, 'wrong_touch')">
          👋 어깨를 가볍게 2번 두드리며 도움이 필요한지 물어본다.
        </button>
        <button class="choice-btn" onclick="makeChoice(1, 2, 'wrong_grab')">
          🤲 팔을 잡아 신호를 준 후 도와주겠다고 말한다.
        </button>
      </div>

      <div class="feedback" id="feedback1_2"></div>
      <button class="continue-btn" id="continue1_2"
              onclick="applyScore(); showScreen('situation2_step1')"
              style="display: none;">
        다음 상황으로 →
      </button>
    </div>

    <!-- 상황 2-1: 캠퍼스 판단 -->
    <div class="screen" id="situation2_step1">
      <div class="time-badge">⏰ 09:15 AM</div>
      <div class="step-indicator">1단계: 상황 판단</div>
      <div class="story-text">
        <strong>📍 캠퍼스</strong><br><br>
        강의실로 가는 중인데, 가는 길이 매십이와 겹쳐. 안내견과 함께 걸어오고 있는 중인데, 걷는 속도가 나보다 늦어.<br><br>
        수업에 늦을 수도 있을 것 같은데...
      </div>

      <div class="learning-objective">
        <strong>💡 학습 포인트:</strong> 안내견과 함께 있을 때의 상황을 판단해보세요
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 내가 먼저 나서서 도와줘야하는 걸까?</div>
        <button class="choice-btn" onclick="makeChoice(2, 1, 'need_help')">
          ✅ 응, 수업에 늦을 수도 있으니 도와주자!
        </button>
        <button class="choice-btn" onclick="makeChoice(2, 1, 'no_help')">
          ❌ 아니, 안 도와줘도 안내견이 있으니 알아서 잘 올 것 같아!
        </button>
      </div>

      <div class="feedback" id="feedback2_1"></div>
      <button class="continue-btn" id="continue2_1"
              onclick="applyScore(); showScreen('situation3_step1')"
              style="display: none;">
        다음 상황으로 →
      </button>
    </div>

    <!-- 상황 3-1: 건물 복도 판단 -->
    <div class="screen" id="situation3_step1">
      <div class="time-badge">⏰ 09:30 AM</div>
      <div class="step-indicator">1단계: 상황 판단</div>
      <div class="story-text">
        <strong>📍 건물 복도</strong><br><br>
        계속 걷다보니 매십이와 같은 건물까지 들어왔어. 강의실은 3층이라 난 엘리베이터로 가고 있는데, 매십이는 자꾸 주변을 두리번 거리고 있어.<br><br>
        참고로 건물 안에는 점자블록이 없어.
      </div>

      <div class="learning-objective">
        <strong>💡 학습 포인트:</strong> 점자블록이 없는 환경에서의 상황을 판단해보세요
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 내가 먼저 도와주는게 맞겠지?</div>
        <button class="choice-btn" onclick="makeChoice(3, 1, 'need_help')">
          ✅ 응, 도움이 필요해 보여!
        </button>
        <button class="choice-btn" onclick="makeChoice(3, 1, 'no_help')">
          ❌ 아니, 스스로 해결할 수 있을 것 같아!
        </button>
      </div>

      <div class="feedback" id="feedback3_1"></div>
      <button class="continue-btn" id="continue3_1"
              onclick="applyScore(); showScreen('situation3_step2')"
              style="display: none;">
        다음 단계로 →
      </button>
    </div>

    <!-- 상황 3-2: 건물 복도 도움 방법 -->
    <div class="screen" id="situation3_step2">
      <div class="time-badge">⏰ 09:30 AM</div>
      <div class="step-indicator">2단계: 도움 방법 선택</div>
      <div class="story-text">
        <strong>📍 건물 복도</strong><br><br>
        매십이에게 말을 걸어봤더니, 엘리베이터가 아니라 화장실을 찾고 있었어.<br><br>
        점자블록이 없는 건물에서는 길찾기가 어려울 수 있어.
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 어떤 식으로 도와주는게 좋을까?</div>
        <button class="choice-btn" onclick="makeChoice(3, 2, 'direct_guide')">
          🚶‍♀️ 화장실까지 직접 안내해주기로 한다. 
        </button>
        <button class="choice-btn" onclick="makeChoice(3, 2, 'verbal_guide')">
          💬 "앞으로 20걸음 정도 가서 우측으로 10걸음 가면 여기 왼쪽에 화장실이 있어"라고 설명해준다.
        </button>
        <button class="choice-btn" onclick="makeChoice(3, 2, 'wrong_dog')">
          🐕 화장실까지 안내해주기 위해서 안내견 목줄을 잡고 직접 안내한다.
        </button>
        <button class="choice-btn" onclick="makeChoice(3, 2, 'wrong_complex')">
          📍 "저기 행정실 앞까지 쭉 간 뒤에 오른쪽으로 돌면 103호 맞은 편에 있어"라고 구체적으로 설명해준다.
        </button>
      </div>

      <div class="feedback" id="feedback3_2"></div>
      <button class="continue-btn" id="continue3_2"
              onclick="applyScore(); showScreen('situation4_step1')"
              style="display: none;">
        다음 상황으로 →
      </button>
    </div>

    <!-- 상황 4-1: 강의실 계단 판단 -->
    <div class="screen" id="situation4_step1">
      <div class="time-badge">⏰ 10:00 AM</div>
      <div class="step-indicator">1단계: 상황 판단</div>
      <div class="story-text">
        <strong>📍 강의실 계단</strong><br><br>
        강의실에 도착했어. 계단형 강의실이라 나와 매십이는 뒷자리라 계단을 올라가야해.<br><br>
        매십이한테 안내견이 있긴하지만 혼자서 올라가기는 힘들 것 같은데...
      </div>

      <div class="learning-objective">
        <strong>💡 학습 포인트:</strong> 안내견과 함께 계단을 오르는 상황을 판단해보세요
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 내가 도와주는게 좋겠지?</div>
        <button class="choice-btn" onclick="makeChoice(4, 1, 'need_help')">
          ✅ 응, 계단 올라가는 건 위험하고 힘들 것 같아!
        </button>
        <button class="choice-btn" onclick="makeChoice(4, 1, 'no_help')">
          ❌ 아니, 안내견과 함께니까 큰 어려움 없이 올라갈 수 있을 것 같아!
        </button>
      </div>

      <div class="feedback" id="feedback4_1"></div>
      <button class="continue-btn" id="continue4_1"
              onclick="applyScore(); showScreen('majorSelect')"
              style="display: none;">
        전공별 상황으로 →
      </button>
    </div>

    <!-- 전공 선택 화면 -->
    <div class="screen" id="majorSelect">
      <div class="character-img">🎓</div>
      <div class="story-text">
        이제 전공별 상황 체험을 해보자!<br><br>
        너의 전공 계열을 선택해줘. 전공에 따라 맞춤형 상황이 준비되어 있어.
      </div>

      <div class="choice-container">
        <div class="choice-title">🎓 당신의 전공 계열을 선택해주세요</div>
        <div class="major-select">
          <button class="major-btn" onclick="selectMajor('science')">
            <div class="major-icon">🔬</div>
            <div class="major-btn-title">이공계열</div>
            <div class="major-btn-subtitle">자연과학대, 생활과학대</div>
          </button>
          <button class="major-btn" onclick="selectMajor('engineering')">
            <div class="major-icon">⚙️</div>
            <div class="major-btn-title">공학계열</div>
            <div class="major-btn-subtitle">공과대학</div>
          </button>
          <button class="major-btn" onclick="selectMajor('medical')">
            <div class="major-icon">⚕️</div>
            <div class="major-btn-title">의학·보건계열</div>
            <div class="major-btn-subtitle">의과대, 간호대</div>
          </button>
          <button class="major-btn" onclick="selectMajor('humanities')">
            <div class="major-icon">📚</div>
            <div class="major-btn-title">인문사회과학계열</div>
            <div class="major-btn-subtitle">인문대, 사회대, 사범대</div>
          </button>
          <button class="major-btn" onclick="selectMajor('arts')">
            <div class="major-icon">🎨</div>
            <div class="major-btn-title">예체능계열</div>
            <div class="major-btn-subtitle">음악대, 예술체육대</div>
          </button>
          <button class="major-btn" onclick="selectMajor('business')">
            <div class="major-icon">💼</div>
            <div class="major-btn-title">융합·경영계열</div>
            <div class="major-btn-subtitle">경영대, 국제학부</div>
          </button>
        </div>
      </div>
    </div>

    <!-- 단과대별 맞춤 상황 -->
    <div class="screen" id="major_situation">
      <div class="time-badge">⏰ 11:00 AM</div>
      <div class="step-indicator">전공별 특별 상황</div>
      <div class="story-text" id="major_story">
        <!-- JavaScript로 내용 삽입 -->
      </div>

      <div class="learning-objective">
        <strong>💡 학습 포인트:</strong> 전공 특성에 맞는 도움 방법을 배워보세요
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 너라면 어떻게 할까?</div>
        <div id="major_choices">
          <!-- JavaScript로 선택지 생성 -->
        </div>
      </div>

      <div class="feedback" id="feedbackMajor"></div>
      <button class="continue-btn" id="continueMajor"
              onclick="applyScore(); showScreen('situation5_step1')"
              style="display: none;">
        다음 상황으로 →
      </button>
    </div>

    <!-- 상황 5-1: 강의 진행 중 판단 -->
    <div class="screen" id="situation5_step1">
      <div class="time-badge">⏰ 11:30 AM</div>
      <div class="step-indicator">1단계: 상황 판단</div>
      <div class="story-text">
        <strong>📍 강의실</strong><br><br>
        매십이 옆자리에 앉게 됐어. 매십이의 한 쪽 귀에는 이어폰을 꼽고 있고, 옆에 앉은 사람은 뭔가를 엄청 열심히 필기 중이야.<br><br>
        매십이는 조용히 수업을 듣고 있는 것 같아.
      </div>

      <div class="learning-objective">
        <strong>💡 학습 포인트:</strong> 수업 중 상황에서 도움의 필요성을 판단해보세요
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 매십이 혼자서 수업 내용을 따라가기에는 벅차지 않을까? 내가 도와주고 싶은데 어떻게 하면 좋을까?</div>
        <button class="choice-btn" onclick="makeChoice(5, 1, 'need_help')">
          ✅ 응, 매십이 혼자 수업 따라가기는 힘들거야 먼저 도와주자!
        </button>
        <button class="choice-btn" onclick="makeChoice(5, 1, 'no_help')">
          ❌ 아니, 가만히 있는 걸로봐서는 크게 어려움이 없는 것 같아서 안 도와줘도 될 것 같아!
        </button>
      </div>

      <div class="feedback" id="feedback5_1"></div>
      <button class="continue-btn" id="continue5_1"
              onclick="applyScore(); showScreen('situation6_step1')"
              style="display: none;">
        다음 상황으로 →
      </button>
    </div>

    <!-- 상황 6-1: 점심 식당 키오스크 판단 -->
    <div class="screen" id="situation6_step1">
      <div class="time-badge">⏰ 12:30 PM</div>
      <div class="step-indicator">1단계: 상황 판단</div>
      <div class="story-text">
        <strong>📍 학생식당</strong><br><br>
        오전 수업을 마치고 점심을 먹으러 학생 식당에 왔어. 키오스크를 통해 식권을 뽑아야해.<br><br>
        매십이도 나와 함께 줄을 서 있는데 키오스크 앞에서 조금 당황하는 것 같아.
      </div>

      <div class="learning-objective">
        <strong>💡 학습 포인트:</strong> 디지털 접근성 문제와 선택권 보장의 중요성
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 내가 도움을 줘야할까?</div>
        <button class="choice-btn" onclick="makeChoice(6, 1, 'need_help')">
          ✅ 응, 혼자서 키오스크를 사용해 식권을 뽑기는 어려울 것 같아!
        </button>
        <button class="choice-btn" onclick="makeChoice(6, 1, 'no_help')">
          ❌ 아니, 요즘은 키오스크가 생활화 되어 있으니까 혼자서도 가능할 것 같아!
        </button>
      </div>

      <div class="feedback" id="feedback6_1"></div>
      <button class="continue-btn" id="continue6_1"
              onclick="applyScore(); showScreen('situation6_step2')"
              style="display: none;">
        다음 상황으로 →
      </button>
    </div>

    <!-- 상황 6-2: 점심 식당 키오스크 방법 -->
    <div class="screen" id="situation6_step2">
      <div class="time-badge">⏰ 12:30 PM</div>
      <div class="step-indicator">2단계: 도움 방법 선택</div>
      <div class="story-text">
        <strong>📍 학생식당</strong><br><br>
        맞아, 키오스크는 시각장애인이 이용하기에는 다소 어렵기 때문에 주변인이 도와주면 좋아.<br><br>
        하지만 여기서 중요한 건 내 <strong>선택권을 보장</strong>하면서 도와주는 거야.
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 이럴 땐 어떤 식으로 도와주는게 좋을까?</div>
        <button class="choice-btn" onclick="makeChoice(6, 2, 'ask_help')">
          💬 가까이 다가가 "도와줄까요?"라고 먼저 물어본다.
        </button>
        <button class="choice-btn" onclick="makeChoice(6, 2, 'call_staff')">
          👨‍🍳 부담스러워할 수 있기에 도움을 주실 수 있는 영양사 선생님을 부르러 간다.
        </button>
        <button class="choice-btn" onclick="makeChoice(6, 2, 'wrong_touch')">
          🤲 정확한 위치를 누르기 힘들기 때문에 다가가서 직접 손목을 잡아 대신 눌러준다.
        </button>
        <button class="choice-btn" onclick="makeChoice(6, 2, 'wrong_suggest')">
          🏪 주변에 키오스크가 없는 일반 식당을 추천해주며 앞으로는 이 식당들을 이용하라고 말해준다.
        </button>
      </div>

      <div class="feedback" id="feedback6_2"></div>
      <button class="continue-btn" id="continue6_2"
              onclick="applyScore(); showScreen('situation7_step1')"
              style="display: none;">
        다음 상황으로 →
      </button>
    </div>

    <!-- 상황 7-1: 팀플 판단 -->
    <div class="screen" id="situation7_step1">
      <div class="time-badge">⏰ 14:00 PM</div>
      <div class="step-indicator">1단계: 상황 판단</div>
      <div class="story-text">
        <strong>📍 강의실</strong><br><br>
        한 학기 동안 진행할 팀플 조가 편성됐어. 나는 매십이와 같은 조야.<br><br>
        첫 팀플이니만큼 매십이도 잘 모를텐데 역할 분담을 어떻게 할지 고민이야.
      </div>

      <div class="learning-objective">
        <strong>💡 학습 포인트:</strong> 팀워크에서의 포용성과 역할 분담의 중요성
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 내가 먼저 나서서 도와주는게 좋겠지?</div>
        <button class="choice-btn" onclick="makeChoice(7, 1, 'need_help')">
          ✅ 응, 내가 도와주는게 힘이 될 거야.
        </button>
        <button class="choice-btn" onclick="makeChoice(7, 1, 'no_help')">
          ❌ 아니, 도와주려고하면 오히려 더 부담을 느낄 거야.
        </button>
      </div>

      <div class="feedback" id="feedback7_1"></div>
      <button class="continue-btn" id="continue7_1"
              onclick="applyScore(); showScreen('situation7_step2')"
              style="display: none;">
        다음 단계로 →
      </button>
    </div>

    <!-- 상황 7-2: 팀플 도움 방법 -->
    <div class="screen" id="situation7_step2">
      <div class="time-badge">⏰ 14:00 PM</div>
      <div class="step-indicator">2단계: 도움 방법 선택</div>
      <div class="story-text">
        <strong>📍 강의실</strong><br><br>
        맞아, 팀플은 신경 써야할 것도 많은 만큼 작은 도움이더라도 도와주는 것이 더 큰 도움이 돼.<br><br>
        하지만 어떤 식으로 도와주는지가 중요해.
      </div>

      <div class="choice-container">
        <div class="choice-title">🤔 어떤 식으로 도와주는게 좋을까?</div>
        <button class="choice-btn" onclick="makeChoice(7, 2, 'ask_role')">
          💬 무엇이 가능하고 어떤 역할을 하고 싶은지 물어보고 조율한다.
        </button>
        <button class="choice-btn" onclick="makeChoice(7, 2, 'offer_help')">
          🤝 역할 분담이 끝난후 별도로 어려운 부분이 있으면 필요한 부분을 도와주겠다고 말하라고 한다.
        </button>
        <button class="choice-btn" onclick="makeChoice(7, 2, 'wrong_exclude')">
          ❌ 어려운 역할은 하기 힘드니까 미리 제외하는 것이 좋아.
        </button>
        <button class="choice-btn" onclick="makeChoice(7, 2, 'wrong_replace')">
          🔄 배려를 하면 오히려 역차별이라고 느낄 수 있으니 매십이의 역할을 뒤에서 내가 다 해준다.
        </button>
      </div>

      <div class="feedback" id="feedback7_2"></div>
      <button class="continue-btn" id="continue7_2"
              onclick="applyScore(); showScreen('summaryScreen')"
              style="display: none;">
        체험 마무리 →
      </button>
    </div>

    <!-- 요약 화면 -->
    <div class="screen" id="summaryScreen">
      <div class="character-img">🎉</div>
      <div class="story-text">
        오늘 하루 동안 매십이와 함께해줘서 고마워!<br><br>
        너의 선택을 기반으로 결과를 정리해볼게.
      </div>
      <div id="reportCapture">
      <div class="final-score-card">
        <div class="final-score-title">최종 점수</div>
        <div class="final-score-number">
          <span id="finalScore">0</span><span class="score-unit">점</span>
        </div>
        <div class="score-grade" id="scoreGrade"><!-- JS로 삽입됨 --></div>
      </div>

      <div class="feedback-summary">
        <div class="feedback-section">
          <h3 class="feedback-title positive">✅ 잘한 점</h3>
          <ul id="goodPoints" class="feedback-list"><!-- JS로 삽입 --></ul>
        </div>
        <div class="feedback-section">
          <h3 class="feedback-title improvement">📝 개선할 점</h3>
          <ul id="improvementPoints" class="feedback-list"><!-- JS로 삽입 --></ul>
        </div>
      </div>
      </div>
      <div class="action-buttons">
        <button class="btn-secondary" onclick="downloadReport()">📄 리포트 저장하기</button>
        <button id="twitterShareBtn" class="btn-secondary">🐦 X로 공유하기</button>
        <button id="nativeShareBtn" class="btn-secondary">💬 카카오로 공유하기</button>
      <button class="btn-primary" onclick="location.reload()">🔁 다시 체험하기</button>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
